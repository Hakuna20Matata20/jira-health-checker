# ü©∫ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: –ê—É–¥–∏—Ç –∑–¥–æ—Ä–æ–≤'—è –±–µ–∫–ª–æ–≥—É Jira

–¶–µ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ–∑–≤–æ–ª—è—î –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —è–∫—ñ—Å—Ç—å —Ç–∞ –≥—ñ–≥—ñ—î–Ω—É –≤–∞—à–æ–≥–æ –±–µ–∫–ª–æ–≥—É –≤ Jira. –í–∏ –º–æ–∂–µ—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ —á–µ—Ä–µ–∑ CSV —Ñ–∞–π–ª –∞–±–æ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –Ω–∞–ø—Ä—è–º—É –¥–æ Jira API.

---

## üöÄ –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è

### üìÇ –í–∞—Ä—ñ–∞–Ω—Ç 1: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è CSV (Classic)
1.  –ï–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ –≤–∞—à—ñ –∑–∞–¥–∞—á—ñ –∑ Jira —á–µ—Ä–µ–∑ "Export" -> "Export Excel CSV (all fields)".
2.  –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É —Ñ–∞–π–ª—ñ —î –∫–æ–ª–æ–Ω–∫–∏: `Issue key`, `Summary`, `Status`, `Assignee`, `Created`, `Updated`, `Issue Type`, `Priority`.
3.  –û–±–µ—Ä—ñ—Ç—å "CSV Upload" —É –±—ñ—á–Ω—ñ–π –ø–∞–Ω–µ–ª—ñ.
4.  –ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —Ñ–∞–π–ª —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –æ–±–ª–∞—Å—Ç—å.

### üîó –í–∞—Ä—ñ–∞–Ω—Ç 2: –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ API (New!)
–î–æ–∑–≤–æ–ª—è—î –∑–∞—Ç—è–≥—É–≤–∞—Ç–∏ "—Å–≤—ñ–∂—ñ" –¥–∞–Ω—ñ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –µ–∫—Å–ø–æ—Ä—Ç—É.

#### 1. –û—Ç—Ä–∏–º–∞–π—Ç–µ API Token (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ)
–î–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Jira Cloud –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –Ω–µ –ø–∞—Ä–æ–ª—å, –∞ API Token.
1.  –ü–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º: [https://id.atlassian.com/manage-profile/security/api-tokens](https://id.atlassian.com/manage-profile/security/api-tokens)
2.  –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Create API token**.
3.  –ù–∞–∑–≤—ñ—Ç—å –π–æ–≥–æ (–Ω–∞–ø—Ä. `JiraHealthApp`).
4.  –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Copy** —ñ –∑–±–µ—Ä–µ–∂—ñ—Ç—å –π–æ–≥–æ —É –Ω–∞–¥—ñ–π–Ω–æ–º—É –º—ñ—Å—Ü—ñ (–≤–∏ –Ω–µ –ø–æ–±–∞—á–∏—Ç–µ –π–æ–≥–æ –∑–Ω–æ–≤—É).

#### 2. –í–≤–µ–¥—ñ—Ç—å –¥–∞–Ω—ñ —É –¥–æ–¥–∞—Ç–∫—É
–£ –±—ñ—á–Ω—ñ–π –ø–∞–Ω–µ–ª—ñ –æ–±–µ—Ä—ñ—Ç—å "Jira API":
*   **Jira Server URL**: –ê–¥—Ä–µ—Å–∞ –≤–∞—à–æ–≥–æ —ñ–Ω—Å—Ç–∞–Ω—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `https://mycompany.atlassian.net`).
*   **Email / Username**: Email, –∑ —è–∫–∏–º –≤–∏ –≤—Ö–æ–¥–∏—Ç–µ –≤ Jira.
*   **API Token**: –í—Å—Ç–∞–≤—Ç–µ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–∏–π —Ç–æ–∫–µ–Ω.
*   **Project Key**: –ö–ª—é—á –ø—Ä–æ–µ–∫—Ç—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `DEV`, `MAR`, `OPS`).
*   **–ü–µ—Ä—ñ–æ–¥ –∞–Ω–∞–ª—ñ–∑—É**: –ó–∞ —Å–∫—ñ–ª—å–∫–∏ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –¥–Ω—ñ–≤ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω—ñ –∑–∞–¥–∞—á—ñ.

#### 3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ"
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ñ–æ—Ä–º—É—î –∑–∞–ø–∏—Ç —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å –∑–∞–¥–∞—á—ñ.

---

## üìä –ü–æ—è—Å–Ω–µ–Ω–Ω—è –º–µ—Ç—Ä–∏–∫

*   **–ó–æ–º–±—ñ –∑–∞–¥–∞—á—ñ (Zombie)**: –ó–∞–¥–∞—á—ñ –≤ —Å—Ç–∞—Ç—É—Å—ñ TODO/IN_PROGRESS, —è–∫—ñ –Ω–µ –æ–Ω–æ–≤–ª—é–≤–∞–ª–∏—Å—è –±—ñ–ª—å—à–µ X –¥–Ω—ñ–≤ (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 14).
*   **–ó–∞–¥–∞—á—ñ –±–µ–∑ –≤–∏–∫–æ–Ω–∞–≤—Ü—è (Orphan)**: –ê–∫—Ç–∏–≤–Ω—ñ –∑–∞–¥–∞—á—ñ, —É —è–∫–∏—Ö –ø–æ–ª–µ Assignee –ø–æ—Ä–æ–∂–Ω—î.
*   **–ú–µ—Ä—Ç–≤—ñ –µ–ø—ñ–∫–∏ (Dead Epics)**: –ï–ø—ñ–∫–∏, —è–∫—ñ –Ω–µ –∑–∞–∫—Ä–∏—Ç—ñ (DONE), –∞–ª–µ –Ω–µ –æ–Ω–æ–≤–ª—é–≤–∞–ª–∏—Å—è –ø–æ–Ω–∞–¥ 30 –¥–Ω—ñ–≤.
*   **–ü–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –≤–∏–∫–æ–Ω–∞–≤—Ü—ñ**: –õ—é–¥–∏, —É —è–∫–∏—Ö –ø–æ–Ω–∞–¥ **2 –∞–∫—Ç–∏–≤–Ω–∏—Ö –∑–∞–¥–∞—á** –æ–¥–Ω–æ—á–∞—Å–Ω–æ.
*   **–ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç —à—É–º—É (Noise Ratio)**:
    *   **–ü—Ä–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ —á–µ—Ä–µ–∑ API**: –ê–Ω–∞–ª—ñ–∑—É—î—Ç—å—Å—è **—ñ—Å—Ç–æ—Ä—ñ—è –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤** (Changelog). –ó–∞–¥–∞—á–∞ –≤–≤–∞–∂–∞—î—Ç—å—Å—è "—à—É–º–Ω–æ—é", —è–∫—â–æ –≤–æ–Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏–ª–∞ –∑—ñ —Å—Ç–∞—Ç—É—Å—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó DONE –Ω–∞–∑–∞–¥ —É TODO/IN_PROGRESS –∞–±–æ –º—ñ—Å—Ç–∏–ª–∞ –ø–µ—Ä–µ—Ö—ñ–¥ —É —Å—Ç–∞—Ç—É—Å –∑—ñ —Å–ª–æ–≤–æ–º "Reopen".
    *   **–ü—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ CSV**: –°–ø—Ä–æ—â–µ–Ω–∏–π –∞–Ω–∞–ª—ñ–∑. –ó–∞–¥–∞—á–∞ –≤–≤–∞–∂–∞—î—Ç—å—Å—è —à—É–º–Ω–æ—é, —è–∫—â–æ —ó—ó *–ø–æ—Ç–æ—á–Ω–∏–π* —Å—Ç–∞—Ç—É—Å –º—ñ—Å—Ç–∏—Ç—å —Å–ª–æ–≤–æ "Reopen".
*   **–°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (Cycle Time)**: –†–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –¥–ª—è *–∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö* (DONE) –∑–∞–¥–∞—á –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ—Å—Ç–æ—Ä—ñ—ó `Changelog`. –¶–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ –º—ñ–∂ –ø–µ—Ä—à–∏–º –ø–µ—Ä–µ—Ö–æ–¥–æ–º —É —Ä–æ–∑—Ä—è–¥ `IN_PROGRESS` (–≤–∑—è—Ç–æ –≤ —Ä–æ–±–æ—Ç—É) —Ç–∞ –æ—Å—Ç–∞–Ω–Ω—ñ–º –ø–µ—Ä–µ—Ö–æ–¥–æ–º —É —Ä–æ–∑—Ä—è–¥ `DONE`.
*   **AI –†–µ–∑—é–º–µ –¥–ª—è –ö–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤–∞**: –ù–∞ –≤–∫–ª–∞–¥—Ü—ñ "–ó–∞–≥–∞–ª—å–Ω–∏–π –æ–≥–ª—è–¥ (–ó–≤—ñ—Ç)" –≤–∏ –º–æ–∂–µ—Ç–µ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ç–µ–∫—Å—Ç–æ–≤–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫. –î–ª—è —Ü—å–æ–≥–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –Ω–∞–¥–∞—Ç–∏ `OpenAI API Key` (—É —Å–∞–π–¥–±–∞—Ä—ñ). –ú–æ–¥–µ–ª—å (gpt-4o) –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–æ–º–±—ñ-–∑–∞–¥–∞—á, –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —á–ª–µ–Ω—ñ–≤ –∫–æ–º–∞–Ω–¥–∏, —Ä—ñ–≤–µ–Ω—å Reopen-—ñ–≤ (Noise Ratio) —Ç–∞ —Å–µ—Ä–µ–¥–Ω—ñ–π Cycle Time —ñ –≤–∏–¥–∞—Å—Ç—å –ø—ñ–¥—Å—É–º–∫–æ–≤–∏–π –∑–≤—ñ—Ç –¥–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç—É.
*   **–û—Ü—ñ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤'—è (Health Score)**: `100 ‚àí (—à—Ç—Ä–∞—Ñ–∏ / –∞–∫—Ç–∏–≤–Ω—ñ –∑–∞–¥–∞—á—ñ √ó 10)`, –æ–±–º–µ–∂–µ–Ω–∞ –¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º [0, 100].
    *   –ó–æ–º–±—ñ: **‚àí2 –±–∞–ª–∏** –∫–æ–∂–Ω–∞
    *   Orphan: **‚àí1 –±–∞–ª** –∫–æ–∂–Ω–∞
    *   –ú–µ—Ä—Ç–≤–∏–π –ï–ø—ñ–∫: **‚àí5 –±–∞–ª—ñ–≤** –∫–æ–∂–µ–Ω

---

## üîí –ë–µ–∑–ø–µ–∫–∞
*   –í–∞—à API Token **–Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è** –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ.
*   –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤–∏–∫–ª—é—á–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω—ñ—î—ó —Å–µ—Å—ñ—ó –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ Jira –≤—ñ–¥ –≤–∞—à–æ–≥–æ —ñ–º–µ–Ω—ñ.
*   –ü—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –≤–≤–µ—Å—Ç–∏ –¥–∞–Ω—ñ –∑–Ω–æ–≤—É.

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—è

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –¥–≤–æ–º–∞ —Ä—ñ–≤–Ω—è–º–∏ —Ç–µ—Å—Ç—ñ–≤ —É —Ñ–∞–π–ª—ñ `test_suite.py`:

| –†—ñ–≤–µ–Ω—å | –©–æ —Ç–µ—Å—Ç—É—î—Ç—å—Å—è | –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç |
|--------|--------------|------------|
| **Unit** | –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ (—Ñ—É–Ω–∫—Ü—ñ—ó –±–µ–∑ UI —Ç–∞ –º–µ—Ä–µ–∂—ñ) | `pytest` + `unittest.mock` |
| **Integration** | –†–µ–∞–ª—å–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Jira —Ç–∞ —á–∏—Ç–∞–Ω–Ω—è CSV | `pytest` (—É–º–æ–≤–Ω–∏–π –∑–∞–ø—É—Å–∫) |

Streamlit –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–º–æ–∫–æ–≤–∞–Ω–∏–π (`MagicMock`) ‚Äî —Ç–µ—Å—Ç–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è –±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–∞ —Ç–∞ —Å–µ—Å—ñ—ó.

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ)
pip install pytest python-dotenv

# –ó–∞–ø—É—Å–∫ –≤—Å—å–æ–≥–æ –Ω–∞–±–æ—Ä—É —Ç–µ—Å—Ç—ñ–≤
pytest test_suite.py -v

# –ó–∞–ø—É—Å–∫ –ª–∏—à–µ unit-—Ç–µ—Å—Ç—ñ–≤
pytest test_suite.py -v -k "not real_jira"
```

### –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç-–∫–µ–π—Å—ñ–≤

#### Unit —Ç–µ—Å—Ç–∏

| –ö–ª–∞—Å / —Ç–µ—Å—Ç | –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î |
|-------------|-------------|
| `TestCalculateReopens` | –ü–∞—Ä—Å–µ—Ä changelog: Done‚ÜíToDo, —è–≤–Ω–∏–π Reopened, –∑—É—Å—Ç—Ä—ñ—á–Ω—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏, `None`/`{}` changelog, –∫—ñ–ª—å–∫–∞ —Ä–µ–æ–≤–ø–µ–Ω—ñ–≤, –Ω–µ-status –ø–æ–ª—è |
| `TestNormalizeJiraData` | –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∏—Ä–æ–≥–æ JSON: –≤—Å—ñ –∫–æ–ª–æ–Ω–∫–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ, –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω—ñ, –ø–æ—Ä–æ–∂–Ω—ñ fields ‚Üí –¥–µ—Ñ–æ–ª—Ç–∏, –ø–æ—Ä–æ–∂–Ω—ñ–π —Å–ø–∏—Å–æ–∫ |
| `TestCalculateMetricsZombies` | Zombie detection —á–µ—Ä–µ–∑ status_mapping: —Å—Ç–∞—Ä—ñ –∑–∞–¥–∞—á—ñ = –∑–æ–º–±—ñ, –Ω–æ–≤—ñ ‚Äî –Ω—ñ; orphan (–±–µ–∑ assignee) |
| `TestCalculateMetricsWipOverload` | –ü–æ—Ä—ñ–≥ WIP = 2: User –∑ 3 –∑–∞–¥–∞—á–∞–º–∏ = –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π; User –∑ 2 = –Ω—ñ; DONE –∑–∞–¥–∞—á—ñ –Ω–µ —Ä–∞—Ö—É—é—Ç—å—Å—è |
| `TestCalculateMetricsDeadEpics` | –ú–µ—Ä—Ç–≤—ñ –µ–ø—ñ–∫–∏: Epic+TODO+—Å—Ç–∞—Ä–∏–π = Dead; DONE –∞–±–æ Task = –Ω–µ Dead |
| `TestCalculateMetricsNoiseRatio` | Noise ratio 50%; division-by-zero –∫–æ–ª–∏ –Ω–µ–º–∞—î DONE –∑–∞–¥–∞—á |
| `TestEmptyDataframeSafety` | –ü–æ—Ä–æ–∂–Ω—ñ–π DataFrame –Ω–µ –ø–∞–¥–∞—î, –≤—Å—ñ –∫–ª—é—á—ñ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è –∑ –Ω—É–ª—å–æ–≤–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ |
| `TestHealthScoreCalculation` | –§–æ—Ä–º—É–ª–∞ Score; —à—Ç—Ä–∞—Ñ–∏; clamp –¥–æ 0; –Ω–µ –ø–µ—Ä–µ–≤–∏—â—É—î 100 |
| `TestClassifyStatusesWithAiMock` | AI-–∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è: –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π JSON; no-key ‚Üí None; exception ‚Üí None (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API) |

#### Integration —Ç–µ—Å—Ç–∏ (—É–º–æ–≤–Ω—ñ)

| –¢–µ—Å—Ç | –£–º–æ–≤–∞ –∑–∞–ø—É—Å–∫—É |
|------|--------------|
| `test_real_jira_connection_and_fetch` | `JIRA_URL` –∑–∞–¥–∞–Ω–æ –≤ `.env` |
| `test_csv_loading_if_exists` | –£ –ø–∞–ø—Ü—ñ –ø—Ä–æ–µ–∫—Ç—É —î —Ö–æ—á–∞ –± –æ–¥–∏–Ω `.csv` —Ñ–∞–π–ª |

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è integration —Ç–µ—Å—Ç—ñ–≤

–°—Ç–≤–æ—Ä—ñ—Ç—å `.env` —É –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –ø–∞–ø—Ü—ñ –ø—Ä–æ–µ–∫—Ç—É:

```env
JIRA_URL=https://yourcompany.atlassian.net
JIRA_EMAIL=you@company.com
JIRA_TOKEN=your_api_token_here
JIRA_PROJECT_KEY=PROJ
```
